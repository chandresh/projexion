<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <title>Ext</title>
    <link rel="stylesheet" type="text/css" href="stylesheets/ext-all.css">
	<link rel="stylesheet" type="text/css" href="stylesheets/projexion.css">
	<script type="text/javascript" src="javascripts/ext-base.js"></script>
	<script type="text/javascript" src="javascripts/ext-all.js"></script>
	<script type="text/javascript"> 
	Ext.BLANK_IMAGE_URL = 'images/default/s.gif';
	  
	var tabPanel = new Ext.TabPanel({
		height: '100%',
		region: 'center',
		tabPosition: 'bottom',
		activeTab: 0,
		enableTabScroll:true,
		defaults:{autoScroll: true},
		items:[{
			title: 'Home'
		}]	  
	});
	
	var tabHandler = function(/** String */ tabId, /** String */ tabTitle){
		if(tabPanel.get(tabId) === undefined){								
			tabPanel.add({
				id: tabId,
				title: tabTitle, 
				closable: true
			}).show();
		}else{
			tabPanel.activate(tabId);
		}	
	}

	var toolbar = new Ext.Toolbar({
		height: 35,
		width: '100%'
	});
	
	var projectMenu = new Ext.menu.Menu({
		items: [{
			text: 'Project List',
			listeners: {
				click : function (button, event){
					tabHandler('projectListTab', 'Project List');
				}
			}
		},{
			text: 'Add New Project'
		}]
	});
	
	var backlogMenu = new Ext.menu.Menu({
		items: [{
			text: 'Search Backlog',
			listeners: {
				click : function (button, event){
					tabHandler('backlogSearchTab', 'Search Backlog');
				}
			}
		},{
			text: 'Add New Backlog'
		}]
	});
	
	var clientMenu = new Ext.menu.Menu({
		items: [{
			text: 'Client List'
		},{
			text: 'Add New Client'
		}]
	});
	
	var userMenu = new Ext.menu.Menu({
		items: [{
			text: 'User List'
		},{
			text: 'Add New User'
		}]
	});
	
	toolbar.add({
		text: 'Projects',
		height: 30,	
		width: 80,
		menu: projectMenu  // assign menu by instance
    },{
		text: 'Backlogs',
		height: 30,	
		width: 80,
		menu: backlogMenu
	},{
		text: 'Clients',
		height: 30,	
		width: 80,
		menu: clientMenu
	},{
		text: 'Users',
		height: 30,	
		width: 80,
		menu: userMenu
	});
	
	Ext.onReady(function() {
		new Ext.Viewport({
			layout: 'border',			
			renderTo: Ext.getBody(),
			items: [
				{
					layout: 'vbox',
					region: 'north',
					height: 65,
					items: [
						{
							xtype: 'box',
							height: 30,
							width: '100%',
							applyTo: 'header'
						}, 
						toolbar
					]
				},
				tabPanel, // center region
				{
					xtype: 'box',
					region: 'south',
					height: 25
				}
			]
		});
	});
	</script>
  </head>
  <body>
	<div id="header"></div>
  </body>
</html>